app_name: Codeborn
email: jakub@tesarek.me

logging:
  level: DEBUG

api:
  domain: localhost
  host: 0.0.0.0
  port: 8800
  auto_reload: true

frontend:
  domain: localhost
  proxy_url: http://localhost:5173

auth:
  cookie_domain: localhost
  secure_cookie: false
  jwt:
    algorithm: HS256
    ttl: 86400  # 24 * 60 * 60

agents:
  runtime_class_name: codeborn.engine.agents.container.DockerAgent
  base_dir: ~/user_data
  container_image: localhost/codeborn-client:latest
  version_file: codeborn.ini
  heartbeat:
    interval: 5.0
    timeout: 25.0
  restart:
    interval: 10.0
  state_update:
    interval: 15.0
  memory_update:
    interval: 60.0
    max_size: 61562880  # 5 * 1024 * 1024 = 5MB

database:
  init_schema: true
  pool_min_size: 2
  pool_max_size: 10
  timeout: 30.0
  command_timeout: 30.0
  models:
    - codeborn.model
    - aerich.models

github:
  redirect_url: http://localhost:8800/api/auth/github/callback
  access_token_url: https://github.com/login/oauth/access_token
  authorize_url: https://github.com/login/oauth/authorize
  api_base_url: https://api.github.com/
  scope:
    - read:user
    - repo

generators:
  map:
    width: 128
    height: 128
    chunk_size: 16
    elevation_scale: 300
    elevation_contrast_enhancement: 1.5
    moisture_scale: 300
    moisture_contrast_enhancement: 1.0
    octaves: 6
    persistence: 0.5
    lacunarity: 2.0
    ranges:
      plains:
        elevation: [0.0, 1.0]
        moisture: [0.0, 0.4]
      forest:
        elevation: [0.0, 1.0]
        moisture: [0.4, 1.0]
      swamp:
        elevation: [0.0, 0.3]
        moisture: [0.7, 1.0]

  army:
    starting_units:
      light_infantry: 25
      spearmen: 15
      archer: 15

terrain:
  plains:
    movement_cost: 0.25
  forest:
    movement_cost: 0.5
  swamp:
    movement_cost: 0.7

units:
  light_infantry:
    stamina_recovery: 0.0020
  heavy_infantry:
    stamina_recovery: 0.0015
  spearmen:
    stamina_recovery: 0.0018
  light_cavalry:
    stamina_recovery: 0.0022
  heavy_cavalry:
    stamina_recovery: 0.0016
  archer:
    stamina_recovery: 0.0023
  crossbowman:
    stamina_recovery: 0.0021
